### API

- 클라이언트가 원하는 기능을 수행하기 위해서 서버 측에 만들어 놓은 프로그램
    - 기능 예시: 데이터 저장, 조회, 수정, 삭제 등등
- 서버 측에 특정 주소로 요청이 오면 정해진 기능을 수행하는 API를 미리 만들어 둠
    - 클라이언트는 서버가 미리 만들어 놓은 주소로 요청을 보냄

### 오픈 API

- 외부에서 사용할 수 있도록 무료로 개방된 API
- 사용법은 공식 문서 (Docs)에 명시되어 잇음
- 프로젝트에서 사용되는 API
    - OpenWeatherMap API: 기상 데이터 및 날씨 정보를 제공하는 오픈 API
    - 금융상품통합비교공시 API: 금융감독원에서 제공하는 금융 상품 정보를 제공하는 오픈 API
    - 알라딘 API
    - 
### 오픈 API 특징 및 주의사항

- 악성 사용자가 100만 개의 계정을 생성해 API에 요청을 보낸다면→ 서버가 다운 될 것임
- 이러한 문제점을 해결하기 위해서 API KEY를 활용하여 사용자를 확인합니다.
- API KEY를 가지고 있는 악성 사용자가 1초에 100만 개의 요청을 보내는 상황을 가정→ 서버가 다운 될 것임
- 일부 오픈 API는 사용량이 제한되어 있음
    - 공식 문서의 일일 및 월간 사용량 제한을 반드시 확인해야 함
    - **[주의] 사용량이 초과될 경우 요금이 청구될 수 있음**
    

### API가 사용하는 데이터 형식 - JSON

- JavaScript Object Notation의 약자
    - JS와 비슷하게 생겨서 붙여짐
- 데이터를 저장하거나 전송할 때 많이 사용되는 경량의 텍스트 기반의 데이터 형식
- 통신 방법이나 프로그래밍 문법이 아니라 단순히 데이터를 표현하는 표현 방법 중 하나
- 특징
    - 딕셔너리와 닮아 있음
- `import json`모듈도 존재함

### 200, 404 , … error 확인법
오류의 성격에 따라 400번대 혹은 500번대 오류 코드가 HTTP 응답 코드로 반환
- 200: 정상
- 404(Not Found): 요청하는 데이터가 오류 = 그런 데이터는 우리 서버에 없다.
- 이외 error를 확인하려면 API Guide를 참고하면 된다.
####  NAVER Open API Guide

|HTTP상태코드(오류유형)|오류발생원인|해결방법|
|----------------|------------------------------|------------------------------|
|400(요청변수확인)|필수요청변수가없거나요청변수이름이잘못된경우|API레퍼런스에서필수요청변수를확인합니다.|
|400(요청변수확인)|요청변수값을URL인코딩으로변환하지않고전송한경우|API레퍼런스에서해당요청변수를URL인코딩해야하는지확인합니다.|
|401(인증실패)|클라이언트아이디또는시크릿이없거나잘못된경우|내애플리케이션메뉴에서클라이언트아이디와시크릿을확인합니다.|
|401(인증실패)|HTTP헤더에아이디/시크릿을정확히설정하지않은경우|아이디와시크릿은지정된이름의HTTP요청헤더로전송해야합니다.|
|401(인증실패)|API권한이설정되지않은경우|내애플리케이션의API설정탭에서해당API가추가되어있는지확인합니다.|
|401(인증실패)|네이버로그인API에access_token이없거나만료된경우|토큰이HTTP요청헤더에정확히설정되고유효한지확인합니다.|
|403(서버허용X호출)|HTTPS가아닌HTTP로호출한경우|API요청URL이HTTPS인지확인합니다.|
|403(호출금지)|필수요청변수가없거나변수명이잘못된경우|API레퍼런스에서필수요청변수를확인합니다.|
|403(호출금지)|요청값을URL인코딩하지않고전송한경우|API레퍼런스에서해당요청변수를URL인코딩해야하는지확인합니다.|
|404(API없음)|API요청URL이잘못된경우|API요청URL에오류가있는지확인합니다.|
|405(메서드허용X)|HTTP메서드를잘못호출한경우(GET→POST등)|API레퍼런스에서HTTP메서드를확인합니다.|
|429(호출한도초과)|오픈API하루허용량초과|제휴신청을통해한도상향을요청합니다.|
|429(초당호출초과)|초당호출량초과|[공지사항링크](https://developers.naver.com/notice/article/10000000000030659365)참고|
|500(서버오류)|필수요청변수가없거나변수명이잘못된경우|API레퍼런스에서필수요청변수를확인합니다.|
|500(서버오류)|요청값을URL인코딩하지않고전송한경우|API레퍼런스에서해당요청변수를URL인코딩해야하는지확인합니다.|
|500(서버오류)|API호출은정상이지만서버오류또는유지보수|개발자포럼에오류를신고합니다.|
