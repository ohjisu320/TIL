# 25.07.31

### 🔎 어떤 문제가 있었는지

> `super()`가 부모 클래스의 메서드를 호출한다는 건 알겠는데,
> 다중 상속일 때 **어느 클래스의 메서드까지 실행되는지**,
> 그리고 **각 부모 클래스마다 super()를 다 써야 하는 건지** 헷갈렸음.
>
> 특히 아래 코드에서 `ParentB`의 `__init__()`은 호출되지 않는데, 그 이유를 이해 못했었음.
>
> ```python
> class ParentA:
>     def __init__(self):
>         print("A 초기화")
>
> class ParentB:
>     def __init__(self):
>         print("B 초기화")
>
> class Child(ParentA, ParentB):
>     def __init__(self):
>         super().__init__()
>         print("Child 초기화")
>
> c = Child()
> # 출력:
> # A 초기화
> # Child 초기화
> ```

### 💡 내가 시도해본 것들

> `Child`에서 `super()`를 쓰면 `ParentA`까지만 호출되는 걸 보고,
> “그럼 `ParentB`는 무시되는 건가?”라는 의문이 들었음.
> 그래서 각 부모 클래스에도 `super()`를 넣으면 어떻게 되는지 테스트해봄:
>
> ```python
> class ParentA:
>     def __init__(self):
>         super().__init__()
>         print("A 초기화")
>
> class ParentB:
>     def __init__(self):
>         super().__init__()
>         print("B 초기화")
>
> class Child(ParentA, ParentB):
>     def __init__(self):
>         super().__init__()
>         print("Child 초기화")
>
> c = Child()
> # 출력:
> # B 초기화
> # A 초기화
> # Child 초기화
> ```

### 🧭 어떻게 해결했는지

> `super()`는 단순히 한 단계 위 부모를 명시하는 게 아니라,
> **MRO(Method Resolution Order)** 순서를 따라 다음 클래스의 메서드를 호출함.
>
> `super()`를 모든 클래스에서 호출해야만, MRO 순서대로 각 클래스가 한 번씩 초기화됨.
> 만약 중간에 `super()` 호출이 생략되면, 그 이후 순서는 무시됨.
>
> ✔️ 핵심은 **모든 클래스가 super()를 호출해야만 MRO 체인을 따라 전체 초기화가 이루어진다**는 것!

### 📗 무엇을 새롭게 알았는지

> ✅ `super()`는 현재 클래스 기준의 MRO 순서에 따라 다음 클래스의 메서드를 호출
> ✅ `super()`는 특정한 부모 클래스 하나만 지목하지 않는다
> ✅ 다중 상속에서는 **각 클래스가 super()를 꼭 호출해야만 전체 초기화가 완성**됨
>
> ✔️ 아래 예제를 통해 확실히 이해함:
>
> ```python
> class A:
>     def __init__(self):
>         super().__init__()
>         print("A")
>
> class B:
>     def __init__(self):
>         super().__init__()
>         print("B")
>
> class C(A, B):
>     def __init__(self):
>         super().__init__()
>         print("C")
>
> print(C.__mro__)
> # (<class '__main__.C'>, <class '__main__.A'>, <class '__main__.B'>, <class 'object'>)
>
> c = C()
> # 출력:
> # B
> # A
> # C
> ```

> ✔️ MRO 순서를 시각화하면 다음과 같음:
>
> ```
> C → A → B → object
> ```

> 그리고 각 클래스가 `super().__init__()`을 호출하면 다음 클래스의 `__init__()`이 호출됨.
> 즉, `super()`는 **내 다음 순서에 있는 클래스의 메서드를 호출**한다고 생각하면 됨.
>
> 📌 **요약:** 다중 상속에서는 모든 클래스가 `super()`를 호출하도록 작성해야,
> 전체 상속 체인이 끊기지 않고 모두 초기화됨!

---

추가로, `super()`를 사용하는 일반적인 규칙은 다음과 같아:

### ✅ super() 사용 규칙 정리

| 상황             | super() 필요 여부 | 이유                                       |
| -------------- | ------------- | ---------------------------------------- |
| 단일 상속          | 선택            | 호출해도 되고, 안 해도 동작에는 문제 없음                 |
| 다중 상속          | **필수**        | 모든 클래스가 super()를 호출해야 MRO 순서대로 메서드 호출 가능 |
| 협업/프레임워크 기반 개발 | 권장            | 유연한 상속 구조 유지 및 코드 변경에 강함                 |

