[[Python] íŒŒì´ì¬ f-ìŠ¤íŠ¸ë§ í™œìš©ë²• 2íƒ„: ê³ ê¸‰ ê¸°ëŠ¥ê³¼ íŒ ğŸ’¡](https://datasciencebeehive.tistory.com/138)

<aside>
ğŸ’¡f-stringì€ HTMLì— jinjaë¥¼ ë¨¹ì˜€ì„ ë•Œì™€ ë¹„ìŠ·í•˜ê²Œ ì‘ë™í•œë‹¤.


> HTML + jinjaì—ì„œëŠ” ì •í•´ì§„ êµ¬ê°„ ì•ˆì—ì„œ ì™¸ë¶€ ë³€ìˆ˜, forë¬¸, ifë¬¸ ë“± ë‹¤ì–‘í•˜ê²Œ ì“°ì¸ë‹¤.
> f-string ë˜í•œ ê·¸ ì“°ì„ìƒˆì™€ ë¹„ìŠ·í•˜ë‹¤. 
> ë‹¤ë§Œ ë‹¤ë¥¸ ì ì´ ë‘ ê°€ì§€ ìˆë‹¤.
> 
> ì²«ë²ˆì§¸ëŠ” í™˜ê²½ì´ë‹¤. jinjaëŠ” ë‹¹ì—°íˆ HTML-pythonì˜ ì›¹ í™˜ê²½ì—ì„œ ë™ì‘í•œë‹¤.
> ë”°ë¼ì„œ HTML íŒŒì¼ ë‚´ì— JINJAê°€ importë˜ì–´ ìˆì–´ì•¼ë§Œ ë™ì‘í•œë‹¤.
> ë°˜ë©´ f-stringì€ ë‹¹ì—°íˆ pythonì— ë‚´ì¥ë˜ì–´ ìˆëŠ” ê¸°ëŠ¥ì´ê¸°ì— ë”°ë¡œ importê°€ í•„ìš” ì—†ë‹¤.
> 
> ë‘ë²ˆì§¸ëŠ” êµ¬í˜„ ë°©ë²•ì´ë‹¤.
> f-stringì˜ ê²½ìš° {} ì•ˆì—ì„œë§Œ ì‘ë™í•˜ê¸° ë•Œë¬¸ì— **forë¬¸ì´ë‚˜ ifë¬¸ì„ êµ¬í˜„í•  ê²½ìš° í•œì¤„ ì½”ë”©ìœ¼ë¡œ êµ¬í˜„**í•´ì•¼ í•œë‹¤.
> 
> - **ì¡°ê±´ë¶€ í‘œí˜„ì‹ ì‚¬ìš© (Conditional Expressions in f-Strings)**
> - **í•¨ìˆ˜ í˜¸ì¶œ ë° ë©”ì„œë“œ ì²´ì´ë‹ (Function Calls and Method Chaning)**
> - **ì¤‘ì²© f-string  (Nested f-string)**
> - **ë”•ì…”ë„ˆë¦¬ ë°ì´í„° í¬ë§¤íŒ…Â (Formatting Dictionary Data)**
> - **ë‹¤ì–‘í•œ ì§„ë²• ë³€í™˜Â (Advanced Base Conversions)**
> - **ë¡œì»¬ ë³€ìˆ˜ ì°¸ì¡°Â (Referencing Local Variables)**
> - **í° ë”°ì˜´í‘œì™€ ì‘ì€ ë”°ì˜´í‘œ í˜¼ìš©Â (Mixing Single and Double Quotes)**
> - **ë³µì¡í•œ ë°ì´í„° êµ¬ì¡° í¬ë§¤íŒ…Â (Formatting Complex Data Structures)**
</aside>

1. **ì¡°ê±´ë¶€ í‘œí˜„ì‹ ì‚¬ìš©**
    - f-string ë‚´ì—ì„œ ì¡°ê±´ë¶€ í‘œí˜„ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
    - ì´ë¥¼ í†µí•´ ë¬¸ìì—´ì— í¬í•¨ë  ê°’ì„ ì¡°ê±´ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥í•¨
    - ë‹¤ë§Œ, {} ì•ˆì—ì„œë§Œ ì‘ë™í•˜ê¸° ë•Œë¬¸ì— í•œì¤„ ì½”ë”©ë§Œ ê°€ëŠ¥í•˜ë‹¤.
        - if ë¬¸ì˜ ê²½ìš° ì‚¼í•­ ì¡°ê±´ ì—°ì‚°ì (`A if condition else B`)ì—ì„œë§Œ ê°€ëŠ¥
    
    ```python
    score = 85
    print(f'í•©ê²© ì—¬ë¶€: {"í•©ê²©" if score >= 60 else "ë¶ˆí•©ê²©"}')
    # í•©ê²© ì—¬ë¶€: í•©ê²©
    ```
    
2. **í•¨ìˆ˜ í˜¸ì¶œ ë° ë©”ì„œë“œ ì²´ì´ë‹ (Function Calls and Method Chaning)**
    - f-string ì•ˆì—ì„œ í•¨ìˆ˜ë‚˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ë”°ë¡œ `variable = function()` ì™€ ê°™ì€ ë³€ìˆ˜ í• ë‹¹ ì—†ì´ ê°„í¸í•˜ê²Œ ë¬¸ìì—´ ì²˜ë¦¬ê°€ ê°€ëŠ¥
    
    ```python
    name = "laila"
    print(f'{name.capitalize()}ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!')
    # Lailaë‹˜, í™˜ì˜í•©ë‹ˆë‹¤! 
    ```
    
3. **ì¤‘ì²© f-string (Nested f-string)**
    - f-string ì•ˆì— ë˜ ë‹¤ë¥¸ f-stringì„ ë„£ì„ ìˆ˜ ìˆìŒ
    - ì´ ê¸°ëŠ¥ì€ ë³µì¡í•œ ë¬¸ìì—´ formattingì´ í•„ìš”í•œ ê²½ìš°ì— ë§¤ìš° ìœ ìš©í•¨
    - `f"{f'...'}"`ëŠ” **í‘œí˜„ì‹ì„ ë¶„ë¦¬í•˜ê±°ë‚˜, ì¤‘ê°„ ê²°ê³¼ë¥¼ í•œ ë²ˆ ë” í¬ë§·í•´ì•¼ í•  ë•Œë§Œ ìœ ìš©**í•¨.
    
    ```python
    name = "ë¡œì´"
    greeting = "ì•ˆë…•í•˜ì„¸ìš”"
    message = f"{f'{greeting}, {name}!'} ì˜¤ëŠ˜ë„ ì¢‹ì€ í•˜ë£¨ ë³´ë‚´ì„¸ìš”!"
    print(message)
    # ì•ˆë…•í•˜ì„¸ìš”, ë¡œì´! ì˜¤ëŠ˜ë„ ì¢‹ì€ í•˜ë£¨ ë³´ë‚´ì„¸ìš”!
    ```
    
    - âœ… ì¤‘ì²© f-stringì´ ì‹¤ì œë¡œ ìœ ìš©í•œ ì˜ˆì‹œë“¤
        
        **í¬ë§·ëœ ë¬¸ìì—´ì„ ë™ì ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•  ë•Œ**
        
        > âœ… `f'{currency}{price_str}'` ë‚´ë¶€ í¬ë§·ì´ ì™¸ë¶€ ë©”ì‹œì§€ì— ë“¤ì–´ê° â†’ ì¬ì‚¬ìš©ì„±, ë¶„ê¸° í¬ë§·ì— ìœ ë¦¬
        â¡ `price_str`  ì„ ë”°ë¡œ ë½‘ì•„ ë‹¤ë¥¸ ê³³ì—ì„œë„ ì¬ì‚¬ìš©í•˜ê±°ë‚˜, ì™¸ë¶€ì—ì„œ ì¡°í•©í•  ìˆ˜ ìˆê²Œ í•˜ê¸° ìœ„í•´ ì¤‘ì²© ì‚¬ìš©
        > 
        
        ```python
        price = 12000
        currency = "â‚©"
        format_type = "comma"  # ë˜ëŠ” "plain"
        
        price_str = f"{price:,}" if format_type == "comma" else str(price)
        message = f"ì´ ê¸ˆì•¡ì€ {f'{currency}{price_str}'}ì…ë‹ˆë‹¤."
        print(message)
        # ì´ ê¸ˆì•¡ì€ â‚©12,000ì…ë‹ˆë‹¤.
        ```
        
4. **ë”•ì…”ë„ˆë¦¬ ë°ì´í„° í¬ë§¤íŒ…(Formatting Dictionary Data)**
    - ë”•ì…”ë„ˆë¦¬ì˜ í‚¤ë¥¼ ì§ì ‘ ì°¸ì¡°í•´ì„œ ê°’ì„ f-stringìœ¼ë¡œ ì¶œë ¥ ê°€ëŠ¥
    
    ```python
    person = {'name': 'ë¡œì´', 'age': 28}
    print(f'ì´ë¦„: {person["name"]}, ë‚˜ì´: {person["age"]}')
    # ì´ë¦„: ë¡œì´, ë‚˜ì´: 28
    ```
    
5. **ë‹¤ì–‘í•œ ì§„ë²• ë³€í™˜ (Advanced Base Conversions)**
    - 10ì§„ìˆ˜ë¥¼ ë‹¤ì–‘í•œ ì§„ë²•ìœ¼ë¡œ ë³€í™˜í•˜ê¸°ë„ ê°€ëŠ¥
    - 2ì§„ìˆ˜ë¡œ ë³€í™˜ `:#b`
    - 8ì§„ìˆ˜ë¡œ ë³€í™˜ `:#o`
    - 16ì§„ìˆ˜ë¡œ ë³€í™˜ `:#x`
    
    ```python
    number = 255
    print(f'10ì§„ìˆ˜: {number}, 2ì§„ìˆ˜: {number:#b}, 16ì§„ìˆ˜: {number:#x}, 8ì§„ìˆ˜: {number:#o}')
    # 10ì§„ìˆ˜: 255, 2ì§„ìˆ˜: 0b11111111, 16ì§„ìˆ˜: 0xff, 8ì§„ìˆ˜: 0o377
    ```
    
6. **ë¡œì»¬ ë³€ìˆ˜ ì°¸ì¡° (Referencing Local Variables)**
    - f-string ë‚´ì—ì„œ locals()ë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ì˜ ëª¨ë“  ë¡œì»¬ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆìŒ
    - ì´ë•Œ ë¡œì»¬ë³€ìˆ˜ëŠ” locals()ë¼ëŠ” ë‚´ì¥ í•¨ìˆ˜(built-in function) ë‚´ì— ë”•ì…”ë„ˆë¦¬ ê°’ìœ¼ë¡œ
    ë“¤ì–´ê°€ ìˆê¸° ë•Œë¬¸ì— key:valueê°’ìœ¼ë¡œ ì ‘ê·¼ `locals()[ â€œvalue_nameâ€ ] = value`
    
    ```python
    item = "ì‚¬ê³¼"
    quantity = 5
    print(f'ì•„ì´í…œ: {locals()["item"]}, ìˆ˜ëŸ‰: {locals()["quantity"]}')
    # ì•„ì´í…œ: ì‚¬ê³¼, ìˆ˜ëŸ‰: 5
    ```
    
7. **í° ë”°ì˜´í‘œì™€ ì‘ì€ ë”°ì˜´í‘œ í˜¼ìš© (Mixing Single and Double Quotes)**
    - f-stringì—ì„œ ë¬¸ìì—´ ë‚´ í° ë”°ì˜´í‘œì™€ ì‘ì€ ë”°ì˜´í‘œë¥¼ í˜¼ìš©í•˜ì—¬ ë³´ë‹¤ ìœ ì—°í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥
    
    ```python
    quote = "Life is what happens when you're busy making other plans."
    print(f'ëª…ì–¸: "{quote}"')
    # ëª…ì–¸: "Life is what happens when you're busy making other plans."
    ```
    
8. **ë³µì¡í•œ ë°ì´í„° êµ¬ì¡° í¬ë§¤íŒ… (Formatting Complex Data Structures)**
    - ë¦¬ìŠ¤íŠ¸ë‚˜ íŠœí”Œ ê°™ì€ ë³µì¡í•œ ë°ì´í„° êµ¬ì¡°ë„ **forë¬¸**ì„ ì‚¬ìš©í•˜ì—¬  f-stringìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ í¬ë§· ê°€ëŠ¥
    - ë‹¤ë§Œ **forë¬¸**ì˜ ê²½ìš° `[...] for item in data` â†’ **ë¦¬ìŠ¤íŠ¸ ì»´í”„ë¦¬í—¨ì…˜ìœ¼ë¡œë§Œ êµ¬í˜„ ê°€ëŠ¥**
    
    ```python
    data = [("ì‚¬ê³¼", 5), ("ë°”ë‚˜ë‚˜", 3), ("í¬ë„", 10)]
    print(f'ì¥ë°”êµ¬ë‹ˆ: {", ".join([f"{item[0]} {item[1]}ê°œ" for item in data])}')
    # ì¥ë°”êµ¬ë‹ˆ: ì‚¬ê³¼ 5ê°œ, ë°”ë‚˜ë‚˜ 3ê°œ, í¬ë„ 10ê°œ
    ```